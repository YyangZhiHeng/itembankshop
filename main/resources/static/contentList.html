<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>"面经"面试官网</title>
    <link rel="icon" href="images/main-ico.png">
    <link rel="stylesheet" href="css/element.css">
    <link rel="stylesheet" href="css/content.css">
</head>
<body>
<div id="app">
    <div class="top">
        <!--顶部LOGO-->
        <div class="header">
            <div>
                <img src="images/logo2.png" width="50px">
            </div>
            <div>
                <!--<h2>"面经"面试官网</h2>-->
            </div>
            <div>
                <img src="images/logo1.png">
            </div>
        </div>
        <!--顶部导航-->
        <div class="lineContent">
            <el-menu
                    :default-active="activeIndex2"
                    class="el-menu-demo"
                    mode="horizontal"
                    @select="handleSelect"
                    background-color="#545c64"
                    text-color="#fff"
                    active-text-color="#ffd04b">
                <el-menu-item index="1">首页</el-menu-item>
                <el-submenu index="2">
                    <template slot="title">找工作</template>
                    <el-menu-item index="2-1"><a href="https://www.zhipin.com/" style="color: white">BOSS直聘</a></el-menu-item>
                    <el-menu-item index="2-2"><a href="https://landing.zhaopin.com/" style="color: white">智联招聘</a></el-menu-item>
                    <el-menu-item index="2-3"><a href="https://www.51job.com/" style="color: white">前程无忧</a></el-menu-item>
                    <el-submenu index="2-4">
                        <template slot="title">其他</template>
                        <el-menu-item index="2-4-1">选项1</el-menu-item>
                        <el-menu-item index="2-4-2">选项2</el-menu-item>
                        <el-menu-item index="2-4-3">选项3</el-menu-item>
                    </el-submenu>
                </el-submenu>
                <el-menu-item index="3" >消息中心</el-menu-item>
                <el-menu-item index="4"><a href="https://www.baidu.com/">岗位推荐</a></el-menu-item>
                <el-menu-item index="5">
                    <!--<a @click="loginOut">退出</a>-->
                    <el-button type="text" style="color: white" @click="loginOut">退出</el-button>
                </el-menu-item>
            </el-menu>
        </div>
    </div>
    <div class="main">
        <div class="left">
            <!--<img src="images/adContentBK.jpg" >-->
            <!--左边选择条-->
            <el-menu
                    default-active="2"
                    class="el-menu-vertical-demo"
                    @open="handleOpen"
                    background-color="#545c64"
                    text-color="#fff"
                    @close="handleClose">
                <el-submenu index="1">
                    <template slot="title">
                        <i class="el-icon-location"></i>
                        <span>试题分类菜单</span>
                    </template>
                    <el-menu-item-group>
                        <el-submenu index="1-1">
                            <template slot="title" >
                                <i class="el-icon-caret-bottom"></i>
                                spring面试题</template>
                            <el-menu-item index="1-1-1">
                                <el-button icon="el-icon-search" circle @click="searchOne">查看</el-button>
                                </el-menu-item>
                        </el-submenu>

                        <el-submenu index="1-2">
                            <template slot="title">
                                <i class="el-icon-caret-bottom"></i>
                                SpringBoot面试题</template>
                            <el-menu-item index="1-2-1">
                                <el-button icon="el-icon-search" circle @click="searchTwo">查看</el-button>
                                </el-menu-item>
                        </el-submenu>

                    <el-submenu index="1-3">
                        <template slot="title">
                            <i class="el-icon-caret-bottom"></i>
                            mybatis，mybatis-plus面试题</template>
                        <el-menu-item index="1-3-1">
                            <el-button icon="el-icon-search" circle @click="searchThree">查看</el-button>
                            </el-menu-item>
                    </el-submenu>

                        <el-submenu index="1-4">
                            <template slot="title">
                                <i class="el-icon-caret-bottom"></i>
                                JVM面试题</template>
                            <el-menu-item index="1-4-1">
                                <el-button icon="el-icon-search" circle @click="searchFour">查看</el-button>
                                </el-menu-item>
                        </el-submenu>

                        <el-submenu index="1-5">
                            <template slot="title">
                                <i class="el-icon-caret-bottom"></i>
                                前端面试题</template>
                            <el-menu-item index="1-5-1">
                                <el-button icon="el-icon-search" circle @click="searchFive">查看</el-button>
                                </el-menu-item>
                        </el-submenu>

                        <el-submenu index="1-6">
                            <template slot="title">
                                <i class="el-icon-caret-bottom"></i>
                                java面试题</template>
                            <el-menu-item index="1-6-1">
                                <el-button icon="el-icon-search" circle @click="searchSix">查看</el-button>
                            </el-menu-item>
                        </el-submenu>

                    <el-submenu index="1-7">
                        <template slot="title">
                            <i class="el-icon-caret-bottom"></i>
                            服务器面试题</template>
                        <el-menu-item index="1-7-1">
                            <el-button icon="el-icon-search" circle @click="searchSeven">查看</el-button>
                        </el-menu-item>
                    </el-submenu>

                        <el-submenu index="1-8">
                            <template slot="title">
                                <i class="el-icon-caret-bottom"></i>
                                数据库面试题</template>
                            <el-menu-item index="1-8-1">
                                <el-button icon="el-icon-search" circle @click="searchEight">查看</el-button>
                            </el-menu-item>
                        </el-submenu>

                </el-submenu>
                <el-menu-item index="2">
                    <i class="el-icon-menu"></i>
                    <span slot="title">导航二</span>
                </el-menu-item>
                <el-menu-item index="3" >
                    <i class="el-icon-document"></i>
                    <span slot="title">导航三</span>
                </el-menu-item>
                <el-menu-item index="4">
                    <i class="el-icon-caret-left"></i>
                    <span>
                        <el-button @click="comeBackLogin">返回登录页面</el-button>
                    </span>
                </el-menu-item>
            </el-menu>
        </div>
            <div class="zj">
                <div class="shang">
                </div>
                <div class="zj-zj">
                    <el-table :data="tableDate"  class="content">
                        <el-table-column prop="id" label="题号" style="width: 380px" ></el-table-column>
                        <el-table-column prop="name" label="试题类型" style="width: 380px" ></el-table-column>
                        <el-table-column prop="content" label="内容" style="width: 380px" ></el-table-column>
                        <el-table-column fixed="right" label="答案" width="120">
                            <template slot-scope="scope">
                                <el-button @click="clickAnswer(scope.row)"  type="text" size="small">
                                    点击查看
                                </el-button>
                            </template>
                        </el-table-column>
                    </el-table>
                </div>
                <div class="xia">
                <!--分页选择-->
                <center>
                    <el-pagination
                            background
                            layout="prev, pager, next"
                            :total="total"
                            :current-page="current"
                            :page-size="size"
                            @current-change="handleCurrentChange">
                    </el-pagination>
                    <center/>
            </div>
        </div>
        <div class="right">
            <!--<img src="images/adcustomerBK.jpg" >-->
            <!--右边搜索框-->
            <template>
                <el-select v-model="value" clearable filterable placeholder="请输入关键字">
                    <el-option
                            v-for="item in options"
                            :key="item.value"
                            :label="item.label"
                            :value="item.value"
                           >
                    </el-option>
                </el-select>
                <el-button type="primary" icon="el-icon-search" @click="findByInput(value)">搜索</el-button>
            </template>
        </div>
</div>
    <!--底部条款-->
    <div class="footer">
        <el-link href="#" target="_blank">关于"面经"面试网</el-link>
        <el-link type="primary">服务条款</el-link>
        <el-link type="success">隐私政策</el-link>
        <el-link type="warning">客服中心</el-link>
        <el-link type="danger">联系我们</el-link>
        <el-link type="info">帮助中心</el-link>
    </div>
    <!---->
    <!--答案查看弹窗弹窗-->
    <el-dialog
            title="答案详情"
            :visible.sync="dialogVisible"
            width="45%"
            :before-close="handleClose">
        <span></span>
        <el-form ref="form" :model="form" label-width="100px">
            <el-form-item label="问题">
                <el-input v-model="form.content"></el-input>
            </el-form-item>
            <el-form-item label="答案" >
                <el-input v-model="form.answer"></el-input>
            </el-form-item>
        </el-form>
        <span slot="footer" class="dialog-footer">
    <el-button type="primary" @click="dialogVisible = false">已查看</el-button>
    <!--<el-button type="primary" @click="confirmForm">确 定</el-button>-->
  </span>
    </el-dialog>
</div>
<script src="js/vue.js"></script>
<script src="js/element.js"></script>
<script src="js/axios.min.js"></script>
<script>
    <!--全局访问uri-->
    axios.default.baseURI="http://localhost:8080";
    let app = new Vue({
        el:"#app",
        data:{
            tableDate: [],
            dialogVisible:false,//默认不显示
            form:{//表单实体
            },
            total: 0, // 总条数
            current: 1, // 页码
            size: 8,//每页查几条数据
            //右边搜索框选择值
            options: [{
              value: '1',
              label: 'spring面试题',
          }, {
              value: '2',
              label: 'SpringBoot面试题'
          }, {
              value: '3',
              label: 'mybatis，mybatis-plus面试题'
          }, {
              value: '4',
              label: 'JVM面试题'
          }, {
              value: '5',
              label: '前端面试题'
            },{
                value:'6',
                label:'java面试题'
          },{
                value: '7',
                label: '服务器面试题'
            },{
                value:'8',
                label:'数据库面试题'
            }],
          value: ''
        },
        methods:{

            //弹框查看答案
            clickAnswer(row){
                console.log(row);
                //显示表单
                this.dialogVisible=true;
                //清空表单
                this.form ={
                    content:row.content,
                    answer:row.answer
                };
                //修改isEdit=true;
                this.isEdit=true;
            },
            //右边搜索框搜索试题
            findByInput(value){
                // alert(value);
              axios.post("/findByInput/"+value)
                  .then(resp=>{
                      this.tableDate = resp.data;
                  })
                  .catch(err=>{
                      console.log(err)
                  })
            },
            //返回登入页面，退出登入
            loginOut(){
                axios.get("/loginOut")
                    .then(resp=>{
                        window.location.href="login.html";
                    })
                    .catch(err=>{
                        console.log(err)
                    })
              // location="login.html"
            },
            // spring面试题 1
            searchOne(){
                axios.post("/findContentOne")
                    .then(resp=>{
                        this.tableDate = resp.data
                    })
                    .catch(err=>{
                        console.log(err)
                    })
            },
            //SpringBoot面试题 2
            searchTwo(){
                axios.post("/findContentTwo")
                    .then(resp=>{
                        this.tableDate = resp.data
                    })
                    .catch(err=>{
                        console.log(err)
                    })
            },
            //mybatis，mybatis-plus面试题 3
            searchThree(){
                axios.post("/findContentThree")
                    .then(resp=>{
                        this.tableDate = resp.data
                    })
                    .catch(err=>{
                        console.log(err)
                    })
            },
            //JVM面试题 4
            searchFour(){
                axios.post("/findContentFour")
                    .then(resp=>{
                        this.tableDate = resp.data
                    })
                    .catch(err=>{
                        console.log(err)
                    })
            },
            //前端面试题 5
            searchFive(){
                axios.post("/findContentFive")
                    .then(resp=>{
                        this.tableDate = resp.data
                    })
                    .catch(err=>{
                        console.log(err)
                    })
            },
            //java面试题 6
            searchSix(){
                axios.post("/findContentSix")
                    .then(resp=>{
                        this.tableDate = resp.data
                    })
                    .catch(err=>{
                        console.log(err)
                    })
            },
            //服务器面试题 7
            searchSeven(){
                axios.post("/findContentSeven")
                    .then(resp=>{
                        this.tableDate = resp.data
                    })
                    .catch(err=>{
                        console.log(err)
                    })
            },
            //数据库面试题 8
            searchEight(){
                axios.post("/findContentEight")
                    .then(resp=>{
                        this.tableDate = resp.data
                    })
                    .catch(err=>{
                        console.log(err)
                    })
            },
            //点击返回登录页面
            comeBackLogin(){
                axios.get("/loginOut")
                    .then(resp=>{
                        window.location.href="login.html";
                    })
                    .catch(err=>{
                        console.log(err)
                    })
            },
            handleCurrentChange(c){
                this.queryByPage(c, this.size);
            },
            //分页
            queryByPage(current, size){
                axios.get("/findItBankAll", {
                    params:{
                        current: current,
                        size: size
                    }
                    })
                    .then(resp => {
                        this.tableDate = resp.data.records;
                        this.total = resp.data.total;
                    })
                    .catch(err => {
                        console.log(err);
                        this.tableDate = []
                    })
            }
        },

            created(){
            //查询所有题库信息
            axios.post("/findItBankAll")
                .then(resp=>{
                    this.tableDate = resp.data
                })
                .catch(err=>{
                })
                this.queryByPage(1, this.size);
            }
    })
</script>
</body>
</html>